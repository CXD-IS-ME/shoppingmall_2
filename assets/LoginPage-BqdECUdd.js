import{r as g,u as N,w as q,c as _,o as v,a as s,b as V,d as l,e as r,f as p,g as k,l as w,h as B,E as U,i as L,j as R,k as $,m as z,n as F,p as J,q as M,s as O,t as T,v as j}from"./index-BB3_t5sF.js";/* empty css               *//* empty css                    *//* empty css                     *//* empty css                *//* empty css                  *//* empty css                 */import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                   */const A={class:"input_box"},G={class:"flex"},H={__name:"LoginPage",setup(K){const d=g(!1),f=g(),a=g({Username:"",Password:"",repassword:""}),x={Username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是 5-10位 的字符",trigger:"blur"}],Password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"},{validator:(u,e,n)=>{e!==a.value.Password?n(new Error("两次输入密码不一致")):n()},trigger:"blur"}]},b=async()=>{await f.value.validate(),await B(a.value),U.success("注册成功"),d.value=!1},P=N(),E=L(),S=async()=>{await f.value.validate();const u=await R(a.value);P.setToken(u.data.token),U.success("欢迎登录心选购物商城"),E.push("/"),localStorage.setItem("res",JSON.stringify(u.data.data.UserID)),localStorage.setItem("pic",JSON.stringify(u.data.data.avatar))};return q(d,()=>{a.value={Username:"",Password:"",repassword:""}}),(u,e)=>{const n=$,o=z,i=F,c=J,m=M,y=O,C=T,I=j;return v(),_(I,{class:"login-page"},{default:s(()=>[V("div",A,[l(n,{span:u.auto,class:"form"},{default:s(()=>[d.value?(v(),_(y,{key:0,model:a.value,rules:x,ref_key:"form",ref:f,size:"large",autocomplete:"off"},{default:s(()=>[l(o,null,{default:s(()=>[l(n,{class:"title"},{default:s(()=>e[7]||(e[7]=[r("注册")])),_:1}),l(n,{class:"title_text"},{default:s(()=>e[8]||(e[8]=[r("register")])),_:1})]),_:1}),l(o,{prop:"Username"},{default:s(()=>[l(i,{modelValue:a.value.Username,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.Username=t),"prefix-icon":p(k),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),l(o,{prop:"Password"},{default:s(()=>[l(i,{modelValue:a.value.Password,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.Password=t),"prefix-icon":p(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(o,{prop:"repassword"},{default:s(()=>[l(i,{modelValue:a.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.repassword=t),"prefix-icon":p(w),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(o,null,{default:s(()=>[l(c,{onClick:b,class:"button",type:"primary","auto-insert-space":""},{default:s(()=>e[9]||(e[9]=[r(" 注册 ")])),_:1})]),_:1}),l(o,{class:"flex"},{default:s(()=>[l(m,{type:"info",underline:!1,onClick:e[3]||(e[3]=t=>d.value=!1)},{default:s(()=>e[10]||(e[10]=[r(" ← 返回 ")])),_:1})]),_:1})]),_:1},8,["model"])):(v(),_(y,{key:1,model:a.value,rules:x,ref_key:"form",ref:f,size:"large",autocomplete:"off"},{default:s(()=>[l(o,null,{default:s(()=>[l(n,{class:"title"},{default:s(()=>e[11]||(e[11]=[r("登录")])),_:1}),l(n,{class:"title_text"},{default:s(()=>e[12]||(e[12]=[r("login")])),_:1})]),_:1}),l(o,{prop:"Username"},{default:s(()=>[l(i,{modelValue:a.value.Username,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.Username=t),"prefix-icon":p(k),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),l(o,{prop:"Password"},{default:s(()=>[l(i,{modelValue:a.value.Password,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.Password=t),name:"Password","prefix-icon":p(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(o,{class:"flex"},{default:s(()=>[V("div",G,[l(C,null,{default:s(()=>e[13]||(e[13]=[r("记住我")])),_:1}),l(m,{type:"info",underline:!1,href:"/admin/login"},{default:s(()=>e[14]||(e[14]=[r("前往商家端")])),_:1}),l(m,{type:"primary",underline:!1},{default:s(()=>e[15]||(e[15]=[r("忘记密码？")])),_:1})])]),_:1}),l(o,null,{default:s(()=>[l(c,{onClick:S,class:"button",type:"primary","auto-insert-space":""},{default:s(()=>e[16]||(e[16]=[r("登录")])),_:1})]),_:1}),l(o,{class:"flex"},{default:s(()=>[l(m,{type:"info",underline:!1,onClick:e[6]||(e[6]=t=>d.value=!0)},{default:s(()=>e[17]||(e[17]=[r(" 注册(用户) → ")])),_:1})]),_:1})]),_:1},8,["model"]))]),_:1},8,["span"])])]),_:1})}}},ae=D(H,[["__scopeId","data-v-cb9e1c7f"]]);export{ae as default};
