import{_ as w}from"./PageContainer-Cl73poUb.js";import{u as E,r as p,c as d,a,o as r,d as t,L as S,f as l,a7 as _,b as x,e as n,a8 as A,i as B,a9 as R,E as b,S as C,aa as z,p as L}from"./index-BB3_t5sF.js";/* empty css                  *//* empty css                    *//* empty css                   */import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                */const V=["src"],F={__name:"UserAvatar",setup(I){const f=B(),u=E(),o=p(u.user.user_pic),c=p(),m=i=>{const e=new FileReader;e.readAsDataURL(i.raw),e.onload=()=>{o.value=e.result}},v=async()=>{await R(o.value),await u.getUser(),b.success("头像更新成功")},g=()=>{f.push("/admin/layout")};return(i,e)=>{const y=C,k=z,s=L,U=w;return r(),d(U,{title:"更换头像"},{default:a(()=>[t(k,{ref_key:"uploadRef",ref:c,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":m},{default:a(()=>[o.value?(r(),S("img",{key:0,src:o.value,class:"avatar"},null,8,V)):(r(),d(y,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[t(l(_))]),_:1}))]),_:1},512),e[4]||(e[4]=x("br",null,null,-1)),t(s,{onClick:e[0]||(e[0]=$=>c.value.$el.querySelector("input").click()),type:"primary",icon:l(_),size:"large"},{default:a(()=>e[1]||(e[1]=[n("选择图片")])),_:1},8,["icon"]),t(s,{onClick:v,type:"success",icon:l(A),size:"large"},{default:a(()=>e[2]||(e[2]=[n("上传头像")])),_:1},8,["icon"]),t(s,{type:"danger",onClick:g,size:"large"},{default:a(()=>e[3]||(e[3]=[n("返回")])),_:1})]),_:1})}}},J=N(F,[["__scopeId","data-v-52836b37"]]);export{J as default};
