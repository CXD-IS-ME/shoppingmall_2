import{r as m,u as k,c as E,a as t,o as y,d as a,e as p,i as I,E as x,n as w,m as S,p as B,s as C}from"./index-BB3_t5sF.js";/* empty css                     *//* empty css                  *//* empty css                 */import{_ as F}from"./PageContainer-Cl73poUb.js";import{d as R}from"./admin-BoluaQyv.js";/* empty css                   *//* empty css                */import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={__name:"UserProfile",setup(q){const u=I(),n=m(),d=localStorage.getItem("UserID"),{user:{Email:f,id:_,nickname:c,Username:g},getUser:D}=k(),l=m({id:_,Username:g,nickname:c,Email:f,UserID:d}),U=m({nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}/,message:"昵称长度在2-10个非空字符",trigger:"blur"}],Email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]}),v=async()=>{await n.value.validate(),await R(l.value),x.success("修改成功"),u.push("/article/manage")},b=()=>{u.push("/article/manage")};return(N,e)=>{const s=w,o=S,i=B,V=C;return y(),E(F,{title:"基本资料"},{default:t(()=>[a(V,{ref_key:"formRef",ref:n,model:l.value,rules:U.value,"label-width":"100px"},{default:t(()=>[a(o,{label:"登录名称"},{default:t(()=>[a(s,{modelValue:l.value.Username,"onUpdate:modelValue":e[0]||(e[0]=r=>l.value.Username=r),disabled:""},null,8,["modelValue"])]),_:1}),a(o,{label:"用户昵称",prop:"nickname"},{default:t(()=>[a(s,{modelValue:l.value.nickname,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value.nickname=r)},null,8,["modelValue"])]),_:1}),a(o,{label:"用户邮箱",prop:"email"},{default:t(()=>[a(s,{modelValue:l.value.Email,"onUpdate:modelValue":e[2]||(e[2]=r=>l.value.Email=r)},null,8,["modelValue"])]),_:1}),a(o,null,{default:t(()=>[a(i,{type:"primary",onClick:v},{default:t(()=>e[3]||(e[3]=[p("提交修改")])),_:1}),a(i,{type:"primary",onClick:b},{default:t(()=>e[4]||(e[4]=[p("返回")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}};export{J as default};
