import{r as i,L as g,d as l,a as t,x as _,Z as I,Y as h,o as D,e as f,b as x,a4 as C,_ as A,p as P,n as B,m as F,s as N}from"./index-BB3_t5sF.js";/* empty css                  *//* empty css                   *//* empty css                     *//* empty css                 *//* empty css               *//* empty css                    *//* empty css                  *//* empty css                     *//* empty css                  */import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={slot:"footer",class:"dialog-footer"},L={__name:"UserDetails",setup($){const v=i([]),s=i(!1),a=i({Username:"",Email:"",nickname:"",Phone:"",Address:""}),r=i("120px"),c=i(localStorage.getItem("res")),b=async()=>{const n=await _(c.value);v.value=n.data.data.data};b();const V=async n=>{try{const e=await _(n);a.value=e.data.data.data[0],s.value=!0}catch(e){console.error("获取用户信息失败",e)}},w=()=>{a.value={Username:"",Email:"",nickname:"",Phone:"",Address:""}},U=async()=>{try{await C(a.value),s.value=!1,b()}catch(n){console.error("更新用户信息失败",n)}};return(n,e)=>{const d=A,p=P,E=I,u=B,m=F,k=N,y=h;return D(),g("div",null,[l(E,{data:v.value,height:"250",style:{width:"100%"}},{default:t(()=>[l(d,{prop:"Username",label:"账号",width:"180"}),l(d,{prop:"Email",label:"邮箱",width:"180"}),l(d,{prop:"nickname",label:"昵称"}),l(d,{prop:"Phone",label:"电话号码"}),l(d,{prop:"Address",label:"地址"}),l(d,{label:"操作",width:"180"},{default:t(({row:o})=>[l(p,{type:"primary",onClick:G=>V(o.UserID)},{default:t(()=>e[7]||(e[7]=[f("编辑")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(y,{title:"编辑用户信息",modelValue:s.value,"onUpdate:modelValue":e[6]||(e[6]=o=>s.value=o),width:"30%",onClose:w},{default:t(()=>[l(k,{model:a.value},{default:t(()=>[l(m,{label:"账号","label-width":r.value},{default:t(()=>[l(u,{modelValue:a.value.Username,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.Username=o),autocomplete:"off",disabled:""},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"邮箱","label-width":r.value},{default:t(()=>[l(u,{modelValue:a.value.Email,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.Email=o),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"昵称","label-width":r.value},{default:t(()=>[l(u,{modelValue:a.value.nickname,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.nickname=o),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"电话号码","label-width":r.value},{default:t(()=>[l(u,{modelValue:a.value.Phone,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.Phone=o),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"地址","label-width":r.value},{default:t(()=>[l(u,{modelValue:a.value.Address,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.Address=o),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"]),x("div",T,[l(p,{onClick:e[5]||(e[5]=o=>s.value=!1)},{default:t(()=>e[8]||(e[8]=[f("取 消")])),_:1}),l(p,{type:"primary",onClick:U},{default:t(()=>e[9]||(e[9]=[f("确 定")])),_:1})])]),_:1},8,["modelValue"])])}}},Q=S(L,[["__scopeId","data-v-ca2d8a25"]]);export{Q as default};
