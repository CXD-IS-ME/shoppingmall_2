import{r as u,u as V,c as k,a as t,o as y,d as l,e as i,i as I,a4 as S,E as x,n as w,m as B,p as C,s as F}from"./index-BB3_t5sF.js";/* empty css                     *//* empty css                  *//* empty css                 */import{_ as N}from"./PageContainer-Cl73poUb.js";/* empty css                   *//* empty css                */import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={__name:"UserProfile",setup(R){const p=I(),m=u(),d=localStorage.getItem("res")?JSON.parse(localStorage.getItem("res")):null,{user:{Email:_,UserID:q,nickname:f,Username:c},getUser:g}=V(),a=u({UserID:d,Username:c,nickname:f,Email:_}),U=u({nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}/,message:"昵称长度在2-10个非空字符",trigger:"blur"}],Email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]}),v=async()=>{await m.value.validate(),await S(a.value),g(),x.success("修改成功")},b=()=>{p.push("/user/layout")};return(D,e)=>{const s=w,o=B,n=C,E=F;return y(),k(N,{title:"基本资料"},{default:t(()=>[l(E,{ref_key:"formRef",ref:m,model:a.value,rules:U.value,"label-width":"100px"},{default:t(()=>[l(o,{label:"登录名称"},{default:t(()=>[l(s,{modelValue:a.value.Username,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.Username=r),disabled:""},null,8,["modelValue"])]),_:1}),l(o,{label:"用户昵称",prop:"nickname"},{default:t(()=>[l(s,{modelValue:a.value.nickname,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.nickname=r)},null,8,["modelValue"])]),_:1}),l(o,{label:"用户邮箱",prop:"Email"},{default:t(()=>[l(s,{modelValue:a.value.Email,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.Email=r)},null,8,["modelValue"])]),_:1}),l(o,null,{default:t(()=>[l(n,{type:"primary",onClick:v},{default:t(()=>e[3]||(e[3]=[i("提交修改")])),_:1}),l(n,{type:"primary",onClick:b},{default:t(()=>e[4]||(e[4]=[i("返回")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}};export{A as default};
